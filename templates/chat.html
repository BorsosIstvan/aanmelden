<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat</title>
    <style>
        /* Stijlen voor de chatberichten */
        .chat-message {
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <h1>Chatroom</h1>

    <p>Ingelogd als: <strong>{{ username }}</strong></p>

    <div id="user-list">
        <h3>Gebruikers online:</h3>
        <ul>
            {% for user in users %}
                <li>{{ user }}</li>
            {% endfor %}
        </ul>
    </div>

    <form id="chat-form">
        <!-- Invoerveld voor het bericht -->
        <label for="message">Bericht:</label>
        <input type="text" id="message" name="message" required>

        <!-- Verzendknop -->
        <input type="button" value="Verzend" onclick="sendMessage()">
    </form>

    <!-- Knop voor uitloggen -->
    <form action="/logout" method="post">
        <input type="submit" value="Uitloggen">
    </form>

    <div id="chat-messages">
        <!-- Hier worden de chatberichten weergegeven -->
    </div>

    <script>
        // JavaScript voor het verzenden van chatberichten
        function sendMessage() {
            var messageInput = document.getElementById('message');
            var message = messageInput.value;

            if (message.trim() !== '') {
                // Voeg het chatbericht toe aan de weergave
                var chatMessages = document.getElementById('chat-messages');
                var newMessage = document.createElement('div');
                newMessage.className = 'chat-message';
                newMessage.textContent = '{{ username }}: ' + message;
                chatMessages.appendChild(newMessage);

                // Reset het invoerveld
                messageInput.value = '';
            }
        }
    </script>
</body>
</html>
